# OpenHarmony æ–‡æ¡£çˆ¬è™«

ä¸€ä¸ªç”¨äºçˆ¬å–åä¸º HarmonyOS å®˜æ–¹æ–‡æ¡£å¹¶è½¬æ¢ä¸º Markdown æ ¼å¼çš„å·¥å…·ã€‚æ”¯æŒæŒ‰æ ‘å½¢ç»“æ„ä¿å­˜ã€æ–­ç‚¹ç»­ä¼ ã€å®æ—¶ä¿å­˜ç­‰åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸš€ **è‡ªåŠ¨çˆ¬å–** - ä»åä¸ºå¼€å‘è€…ç¤¾åŒº API è‡ªåŠ¨çˆ¬å–æ‰€æœ‰æ–‡æ¡£
- ğŸ“ **Markdown è½¬æ¢** - ä½¿ç”¨ `html2text` å°† HTML ä¸“ä¸šè½¬æ¢ä¸º Markdown æ ¼å¼
- ğŸŒ² **æ ‘å½¢ç»“æ„** - æŒ‰ç…§åŸæ–‡æ¡£çš„å±‚çº§ç»“æ„ä¿å­˜åˆ°æœ¬åœ°ç›®å½•
- âš¡ **æ–­ç‚¹ç»­ä¼ ** - è‡ªåŠ¨è·³è¿‡å·²ä¸‹è½½çš„æ–‡æ¡£ï¼Œæ”¯æŒä¸­æ–­åç»§ç»­
- ğŸ’¾ **å®æ—¶ä¿å­˜** - è¾¹çˆ¬å–è¾¹ä¿å­˜ï¼Œæ— éœ€ç­‰å¾…å…¨éƒ¨å®Œæˆ
- ğŸ“Š **è¿›åº¦æ˜¾ç¤º** - å®æ—¶æ˜¾ç¤ºçˆ¬å–è¿›åº¦å’Œç»Ÿè®¡ä¿¡æ¯

## ğŸ“¦ å®‰è£…

### ä½¿ç”¨ UVï¼ˆæ¨èï¼‰

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd openharmony_docs

# UV ä¼šè‡ªåŠ¨å®‰è£…ä¾èµ–
uv sync
```

### ä½¿ç”¨ pip

```bash
pip install -r requirements.txt
# æˆ–æ‰‹åŠ¨å®‰è£…
pip install requests html2text
```

## ğŸš€ ä½¿ç”¨

### åŸºæœ¬ç”¨æ³•

```bash
# ä½¿ç”¨ UV è¿è¡Œ
uv run main.py

# æˆ–ç›´æ¥è¿è¡Œ
python3 main.py
```

### æµ‹è¯•çˆ¬å–ï¼ˆåªçˆ¬å–å‰ 3 ä¸ªæ–‡æ¡£ï¼‰

```bash
uv run test_fetch.py
```

### æŸ¥çœ‹æ–‡æ¡£æ ‘å½¢ç»“æ„

```bash
uv run extract_tree.py
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
openharmony_docs/
â”œâ”€â”€ main.py                  # ä¸»ç¨‹åº - çˆ¬å–æ–‡æ¡£å¹¶ä¿å­˜
â”œâ”€â”€ fetch_documents.py       # æ–‡æ¡£çˆ¬å–æ¨¡å—
â”œâ”€â”€ html_to_markdown.py      # HTML è½¬ Markdown æ¨¡å—
â”œâ”€â”€ extract_tree.py          # æå–æ ‘å½¢ç»“æ„å·¥å…·
â”œâ”€â”€ test_fetch.py           # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ category.json           # æ–‡æ¡£åˆ†ç±»ç›®å½•ï¼ˆéœ€æ‰‹åŠ¨è·å–ï¼‰
â”œâ”€â”€ pyproject.toml          # é¡¹ç›®é…ç½®
â”œâ”€â”€ docs/                   # è¾“å‡ºç›®å½• - ä¿å­˜æ‰€æœ‰ Markdown æ–‡ä»¶
â”‚   â”œâ”€â”€ åŸºç¡€å…¥é—¨/
â”‚   â”œâ”€â”€ åº”ç”¨å¼€å‘å‡†å¤‡/
â”‚   â””â”€â”€ åº”ç”¨æ¡†æ¶/
â”œâ”€â”€ documents.json          # å®Œæ•´æ–‡æ¡£æ•°æ®ï¼ˆJSONï¼‰
â””â”€â”€ documents_summary.json  # æ–‡æ¡£æ‘˜è¦
```

## ğŸ“– è¾“å‡ºæ–‡ä»¶è¯´æ˜

### docs/ ç›®å½•

æŒ‰æ ‘å½¢ç»“æ„ä¿å­˜çš„ Markdown æ–‡æ¡£ï¼Œä¾‹å¦‚ï¼š

```
docs/
â””â”€â”€ åŸºç¡€å…¥é—¨/
    â”œâ”€â”€ åº”ç”¨å¼€å‘å¯¼è¯».md
    â”œâ”€â”€ å¿«é€Ÿå…¥é—¨/
    â”‚   â”œâ”€â”€ å¼€å‘å‡†å¤‡.md
    â”‚   â””â”€â”€ æ„å»ºç¬¬ä¸€ä¸ªHarmonyOSåº”ç”¨ï¼ˆArkTSï¼‰.md
    â””â”€â”€ ...
```

æ¯ä¸ª Markdown æ–‡ä»¶åŒ…å«ï¼š
- æ–‡æ¡£æ ‡é¢˜
- æ¥æºä¿¡æ¯
- ç›®å½•ï¼ˆé”šç‚¹åˆ—è¡¨ï¼‰
- å®Œæ•´å†…å®¹ï¼ˆHTML è½¬æ¢ä¸º Markdownï¼‰

### documents.json

åŒ…å«æ‰€æœ‰æ–‡æ¡£çš„å®Œæ•´æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š
- `title` - æ ‡é¢˜
- `fileName` - æ–‡ä»¶å
- `anchorList` - é”šç‚¹åˆ—è¡¨
- `content` - HTML å†…å®¹
- `path` - æ–‡ä»¶è·¯å¾„

### documents_summary.json

ç®€åŒ–çš„æ‘˜è¦ä¿¡æ¯ï¼Œä¾¿äºå¿«é€ŸæŸ¥çœ‹æ–‡æ¡£ç»“æ„ã€‚

## âš™ï¸ é…ç½®é€‰é¡¹

åœ¨ `main.py` ä¸­å¯ä»¥ä¿®æ”¹ä»¥ä¸‹å‚æ•°ï¼š

```python
result = fetch_and_save_documents(
    category_file="category.json",        # åˆ†ç±»æ–‡ä»¶
    catalog_name="harmonyos-guides",      # ç›®å½•åç§°
    output_file="documents.json",         # è¾“å‡ºæ–‡ä»¶
    summary_file="documents_summary.json", # æ‘˜è¦æ–‡ä»¶
    save_markdown=True,                   # æ˜¯å¦ä¿å­˜ Markdown
    skip_existing=True                    # æ˜¯å¦è·³è¿‡å·²ä¸‹è½½
)
```

### å…¶ä»–é…ç½®

- `REQUEST_DELAY` - è¯·æ±‚é—´éš”ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 0.5
- `DOCS_DIR` - è¾“å‡ºç›®å½•ï¼Œé»˜è®¤ "docs"
- `API_URL` - åä¸ºæ–‡æ¡£ API åœ°å€

## ğŸ”§ å·¥å…·è„šæœ¬

### extract_tree.py

ä» `category.json` æå–å¹¶æ˜¾ç¤ºæ–‡æ¡£æ ‘å½¢ç»“æ„ï¼š

```bash
uv run extract_tree.py
```

è¾“å‡ºç¤ºä¾‹ï¼š
```
OpenHarmony æ–‡æ¡£ç»“æ„æ ‘
================================================================================

åŸºç¡€å…¥é—¨
  â”œâ”€ åº”ç”¨å¼€å‘å¯¼è¯» (application-dev-guide)
  â”œâ”€ å¿«é€Ÿå…¥é—¨ (quick-start)
    â”œâ”€ å¼€å‘å‡†å¤‡ (start-overview)
    â””â”€ æ„å»ºç¬¬ä¸€ä¸ªHarmonyOSåº”ç”¨ï¼ˆArkTSï¼‰ (start-with-ets-stage)
```

### test_fetch.py

æµ‹è¯•çˆ¬è™«åŠŸèƒ½ï¼Œåªçˆ¬å–å‰ 3 ä¸ªæ–‡æ¡£ï¼š

```bash
uv run test_fetch.py
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **category.json** æ–‡ä»¶éœ€è¦æ‰‹åŠ¨ä»åä¸ºå¼€å‘è€…ç¤¾åŒºè·å–
2. çˆ¬å–å…¨éƒ¨æ–‡æ¡£ï¼ˆçº¦ 5000+ ä¸ªï¼‰éœ€è¦è¾ƒé•¿æ—¶é—´ï¼ˆçº¦ 40+ åˆ†é’Ÿï¼‰
3. `docs/` ç›®å½•å¯èƒ½è¾ƒå¤§ï¼Œå·²åœ¨ `.gitignore` ä¸­æ’é™¤
4. æ”¯æŒä¸­æ–­åç»§ç»­ï¼Œå·²ä¸‹è½½çš„æ–‡æ¡£ä¼šè¢«è‡ªåŠ¨è·³è¿‡

## ğŸ“Š çˆ¬å–ç»Ÿè®¡

è¿è¡Œå®Œæˆåä¼šæ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ï¼š

```
================================================================================
å…¨éƒ¨å®Œæˆï¼
================================================================================
âœ“ çˆ¬å–æ–‡æ¡£: 5000/5060
âœ“ ä¿å­˜æ–‡ä»¶: 5000 ä¸ª Markdown æ–‡ä»¶
âŠ˜ è·³è¿‡: 60 ä¸ªæ–‡æ¡£ï¼ˆå·²å­˜åœ¨ï¼‰
âš  å¤±è´¥: 0 ä¸ªæ–‡æ¡£
âœ“ è¾“å‡ºç›®å½•: /path/to/openharmony_docs/docs
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³é“¾æ¥

- [HarmonyOS å¼€å‘è€…å®˜ç½‘](https://developer.huawei.com/consumer/cn/harmonyos/)
- [HarmonyOS æ–‡æ¡£ä¸­å¿ƒ](https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/)
